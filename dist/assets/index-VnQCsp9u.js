import{d as S,u as U,r as m,a as k,b as C,c as B,e as n,o as F,f as $,g as e,w as a,h as t,i as b,l as H,j as P,E as f,p as R,k as T,m as g,_ as j}from"./index-92mO3-zR.js";import{g as q}from"./time-DRwa_Ayx.js";const w=i=>(R("data-v-ff9465f4"),i=i(),T(),i),z={class:"login_container"},L=w(()=>g("h1",null,"Hello",-1)),A=w(()=>g("h2",null,"歡迎來到甄選項目",-1)),D=S({__name:"index",setup(i){let v=U(),_=m(),h=k(),x=C(),d=m(!1),l=B({username:"admin",password:"111111"});const y=async()=>{await _.value.validate(),d.value=!0;try{await v.userLogin(l);let r=x.query.redirect;h.push({path:r||"/"}),f({type:"success",message:"登入成功",title:`HI,${q()}好`}),d.value=!1}catch(r){d.value=!1,f({type:"error",message:r.message})}},V={username:[{trigger:"change",validator:(r,o,s)=>{o.length>=5?s():s(new Error("帳號長度5位以上"))}}],password:[{trigger:"change",validator:(r,o,s)=>{o.length>=6?s():s(new Error("密碼長度6位以上"))}}]};return(r,o)=>{const s=n("el-col"),c=n("el-input"),u=n("el-form-item"),N=n("el-button"),E=n("el-form"),I=n("el-row");return F(),$("div",z,[e(I,null,{default:a(()=>[e(s,{span:12,xs:0}),e(s,{span:12,xs:24},{default:a(()=>[e(E,{class:"login_form",model:t(l),rules:V,ref_key:"loginFormss",ref:_},{default:a(()=>[L,A,e(u,{prop:"username"},{default:a(()=>[e(c,{"prefix-icon":t(b),modelValue:t(l).username,"onUpdate:modelValue":o[0]||(o[0]=p=>t(l).username=p)},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,{prop:"password"},{default:a(()=>[e(c,{"prefix-icon":t(H),modelValue:t(l).password,"onUpdate:modelValue":o[1]||(o[1]=p=>t(l).password=p),type:"password","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(N,{loading:t(d),class:"login_btn",type:"primary",size:"default",onClick:y},{default:a(()=>[P("登入")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}}),O=j(D,[["__scopeId","data-v-ff9465f4"]]);export{O as default};
